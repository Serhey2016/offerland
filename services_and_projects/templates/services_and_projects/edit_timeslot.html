{% load static %}

<!-- Edit Time Slot Form Modal -->
<div id="edit-timeslot-modal" class="edit-timeslot-modal-overlay" style="display: none;">
    <div class="edit-timeslot-modal-form">
        <button class="edit-timeslot-modal-close-btn">
            <svg width="24" height="24" viewBox="0 0 24 24">
                <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
            </svg>
        </button>

        <div class="edit-timeslot-header">
            <h3>Edit Time Slot</h3>
        </div>

        <form class="edit-timeslot-form" id="edit-timeslot-form-element" method="post">
            {% csrf_token %}
            <input type="hidden" name="type_of_task" value="5"> <!-- Time Slot -->
            <input type="hidden" name="edit_item_id" id="edit-timeslot-id">
            
            <div class="form-group">
                <label for="edit-timeslot-category">Category</label>
                <select id="edit-timeslot-category" name="category" required>
                    <option value="">-- Select category --</option>
                    {% for cat in categories %}
                    <option value="{{ cat.id }}">{{ cat.category_name }}</option>
                    {% endfor %}
                </select>
            </div>
            
            <div class="form-group">
                <label for="edit-timeslot-service">Service</label>
                <select id="edit-timeslot-service" name="services" required>
                    <option value="">-- Select service --</option>
                    {% for serv in services %}
                    <option value="{{ serv.id }}" data-category="{{ serv.category_name.id }}">{{ serv.service_name }}</option>
                    {% endfor %}
                </select>
            </div>
            
            <div class="form-row">
                <div class="form-group half">
                    <label for="edit-timeslot-date-start">Date and time start</label>
                    <input type="date" id="edit-timeslot-date-start" name="date_start" required>
                    <input type="time" id="edit-timeslot-time-start" name="time_start" class="time-input" required>
                </div>
                <div class="form-group half">
                    <label for="edit-timeslot-date-end">Date and time end</label>
                    <input type="date" id="edit-timeslot-date-end" name="date_end" required>
                    <input type="time" id="edit-timeslot-time-end" name="time_end" class="time-input" required>
                </div>
            </div>
            
            <div class="form-group">
                <label for="edit-timeslot-reserved-time">Reserved time on road (minutes)</label>
                <input type="number" id="edit-timeslot-reserved-time" name="reserved_time_on_road" placeholder="e.g. 30" required>
            </div>
            
            <div class="form-group">
                <label for="edit-timeslot-start-location">Start location (post-code)</label>
                <input type="text" id="edit-timeslot-start-location" name="start_location" placeholder="Enter start location" required>
            </div>
            
            <div class="form-group">
                <label for="edit-timeslot-cost-hour">Cost of one hour of work in £</label>
                <input type="number" id="edit-timeslot-cost-hour" name="cost_of_1_hour_of_work" placeholder="e.g. 100" step="0.01" required>
            </div>
            
            <div class="form-group">
                <label for="edit-timeslot-min-slot">Minimum slot</label>
                <input type="text" id="edit-timeslot-min-slot" name="minimum_time_slot" placeholder="e.g. 9 hours" required>
            </div>
            
            <div class="form-group">
                <label for="edit-timeslot-hashtags">Hashtags: <a href="#">Don't find hashtag?</a></label>
                <div id="edit-timeslot-hashtags-container" class="form-control hashtag-chip-container" tabindex="0" data-all-tags='{{ all_tags|safe }}'>
                    <input type="text" id="edit-timeslot-hashtags-input" placeholder="Start typing tag..." autocomplete="off" class="hashtags-input-field">
                </div>
                <div id="edit-timeslot-hashtags-dropdown" class="hashtag-dropdown-menu"></div>
            </div>
            
            <input type="hidden" name="hashtags" id="edit-timeslot-hashtags-hidden">
            
            <div class="form-actions">
                <button type="button" class="btn btn-secondary cancel-btn">Cancel</button>
                <button type="button" class="btn btn-primary update-btn">Update</button>
            </div>
        </form>
    </div>
</div>

<!-- Подключаем CSS для Edit Time Slot Form -->
<link rel="stylesheet" href="{% static 'css/edit_timeslot.css' %}">

<!-- Подключаем JS для Edit Time Slot Form -->
<script src="{% static 'js/edit_timeslot.js' %}"></script>
