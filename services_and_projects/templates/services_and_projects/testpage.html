{% extends 'home/base.html' %}
{% load static %}

{% comment %}http://localhost:8000/blog/about/{% endcomment %}

{% block extra_head %}
<!-- Custom styles -->
<link href="{% static 'css/servoces_and_projects.css' %}" rel="stylesheet">
<link href="{% static 'css/serv_and_proj_empty_form.css' %}" rel="stylesheet">
<link href="{% static 'css/chat_styles.css' %}" rel="stylesheet">
<link href="{% static 'css/sweetalert2.min.css' %}" rel="stylesheet">
<link href="{% static 'css/photoswipe.css' %}" rel="stylesheet">
<link href="{% static 'css/photoswipe_fix.css' %}" rel="stylesheet">
<link href="{% static 'css/job_search_feed.css' %}" rel="stylesheet">

<!-- CSS libraries -->
<link href="{% static 'css/lib_alertify/alertify.css' %}" rel="stylesheet">
<link href="{% static 'css/lib_alertify/alertify.min.css' %}" rel="stylesheet">
<link href="{% static 'css/lib_alertify/alertify_integra.css' %}" rel="stylesheet">
<link href="{% static 'css/lib_alertify/alertify.rtl.css' %}" rel="stylesheet">
<link href="{% static 'css/lib_alertify/alertify.rtl.min.css' %}" rel="stylesheet">
<link href="{% static 'css/lib_alertify/themes/default.css' %}" rel="stylesheet">
<link href="{% static 'css/lib_alertify/themes/default.min.css' %}" rel="stylesheet">
<link href="{% static 'css/lib_alertify/themes/default.rtl.css' %}" rel="stylesheet">
<link href="{% static 'css/lib_alertify/themes/default.rtl.min.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
<!-- Filter and Search Section -->
<section class="">
    <div class="container">
        <div class="filter_search_container">
            <div class="filter_search_container_content_left_side">
                <button class="filter_button">
                    <svg id="Group_4032" data-name="Group 4032" xmlns="http://www.w3.org/2000/svg" width="66.148"
                        height="52.918" viewBox="0 0 66.148 52.918">
                        <path id="Path_5232" data-name="Path 5232" d="M45,11H2v6.615H45Z"
                            transform="translate(-2 12.152)" fill="#fff" />
                        <path id="Path_5233" data-name="Path 5233" d="M52,6H9v6.615H52Z"
                            transform="translate(14.152 0.615)" fill="#fff" />
                        <path id="Path_5234" data-name="Path 5234" d="M52,16H9v6.615H52Z"
                            transform="translate(14.152 23.689)" fill="#fff" />
                        <path id="Path_5235" data-name="Path 5235" d="M15.23,23.844h6.615V4H15.23v6.615H2V17.23H15.23Z"
                            transform="translate(-2 -4)" fill="#fff" />
                        <path id="Path_5236" data-name="Path 5236" d="M15.23,20.615H2V27.23H15.23v6.615h6.615V14H15.23Z"
                            transform="translate(-2 19.074)" fill="#fff" />
                        <path id="Path_5237" data-name="Path 5237"
                            d="M22.615,9H16V28.844h6.615V22.23h13.23V15.615H22.615Z" transform="translate(30.304 7.537)"
                            fill="#fff" />
                    </svg>
                </button>

                <form class="search_form">
                    <input type="text" class="search_input" placeholder="Search..." />
                    <button type="submit" class="search_button">
                        <svg class="search_form_search_button" width="20" height="20" viewBox="0 0 20 20">
                            <path
                                d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" />
                        </svg>
                    </button>
                </form>
            </div>
            <div class="filter_search_container_content_right_side">
                <div class="Amount_counted">
                    <div class="Amount_counted_main_icon">£</div>
                    <div class="Amount_counted_text_digits">
                        <span class="Amount_counted_amount">Earned</span>
                        <span class="Amount_counted_value">800000</span>
                    </div>
                </div>

                <div class="contracts_counted">
                    <div class="contracts_counted_main_icon">
                        <svg id="service-contract" xmlns="http://www.w3.org/2000/svg" width="34.802" height="39.586"
                            viewBox="0 0 34.802 39.586">
                            <path id="Path_5230" data-name="Path 5230"
                                d="M47.752,23.046l-7.519-7.519a.731.731,0,0,0-.57-.228.779.779,0,0,0-.8.8v6.038a2.285,2.285,0,0,0,2.278,2.278h6.038a.779.779,0,0,0,.8-.8A.731.731,0,0,0,47.752,23.046Zm.228,5.924a1.143,1.143,0,0,0-1.139-1.139H38.866a3.428,3.428,0,0,1-3.418-3.418V16.439A1.143,1.143,0,0,0,34.309,15.3H22.918A3.428,3.428,0,0,0,19.5,18.718v27.34a3.428,3.428,0,0,0,3.418,3.418H34.48c.911,0,1.139-.627,1.082-1.595a11.655,11.655,0,0,1,2.449-8.43c2.848-3.3,7.519-3.531,8.2-3.531s1.823-.057,1.766-1.025S47.979,28.97,47.979,28.97ZM23.487,22.477l2.791-.4c.057,0,.171-.057.171-.114L27.7,19.4a.267.267,0,0,1,.456,0l1.253,2.563c.057.057.114.114.171.114l2.791.4c.171.057.285.285.114.4l-2.051,1.994c-.057.057-.057.114-.057.228l.456,2.791a.223.223,0,0,1-.342.228l-2.506-1.31a.173.173,0,0,0-.228,0l-2.506,1.31a.223.223,0,0,1-.342-.228l.456-2.791a.342.342,0,0,0-.057-.228l-2.051-1.994C23.2,22.762,23.316,22.534,23.487,22.477ZM33.74,41.5A1.143,1.143,0,0,1,32.6,42.64H25.2A1.143,1.143,0,0,1,24.057,41.5V40.362A1.143,1.143,0,0,1,25.2,39.223h7.4a1.143,1.143,0,0,1,1.139,1.139Zm6.265-6.835a1.143,1.143,0,0,1-1.139,1.139H25.2a1.143,1.143,0,0,1-1.139-1.139V33.527A1.143,1.143,0,0,1,25.2,32.388h13.67a1.143,1.143,0,0,1,1.139,1.139Z"
                                transform="translate(-19.5 -15.3)" fill="#282d3b" />
                            <path id="Path_5231" data-name="Path 5231"
                                d="M60.145,56.2a8.145,8.145,0,1,0,8.145,8.145A8.143,8.143,0,0,0,60.145,56.2Zm1.424,8.886a2.86,2.86,0,0,1-.684-.114l-3.133,3.076a.9.9,0,0,1-.684.285.83.83,0,0,1-.684-.285,1.039,1.039,0,0,1,0-1.367l3.133-3.133a2.048,2.048,0,0,1-.114-.627,2.536,2.536,0,0,1,2.449-2.734,2.859,2.859,0,0,1,.684.114c.114,0,.114.114.057.228l-1.367,1.424a.214.214,0,0,0,0,.342l.968.968a.275.275,0,0,0,.4,0L63.961,61.9c.057-.057.228-.057.228.057a2.859,2.859,0,0,1,.114.684A2.536,2.536,0,0,1,61.569,65.086Z"
                                transform="translate(-33.488 -32.904)" fill="#282d3b" />
                        </svg>
                    </div>
                    <div class="contracts_counted_text_digits">
                        <span class="contracts_counted_amount">Finished</span>
                        <span class="contracts_counted_value">23</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Social Feeds Section -->
<section class="social_feeds">
    <div class="social_feed_time_slot">
        <div class="social_feed_time_slot_body_text">
            <div class="social_feed_time_slot_text_sections">
                <div class="social_feed_time_slot_text_section_1">
                    <div class="sftsts1_company_name">Morisons</div>
                    <div class="sftsts1_use_name">Jack Nikolson</div>
                    <div class="sftsts1_hour_price">1 hour: 35 £</div>
                    <div class="sftsts1_hour_price">min slot 9 hours</div>
                </div>
                <div class="social_feed_time_slot_text_section_2">
                    <div class="sftsts2_aviability">Available at: 07.23 - 08.11</div>
                    <div class="sftsts2_time_slot">Time-slot: 13.00 - 16.00</div>
                    <div class="sftsts2_reserved_road_time">Reserved time on road:1 hour</div>
                    <div class="sftsts2_reserved_start_location">start location: CR03JG</div>
                </div>
            </div>
            <div class="social_feed_time_slot_tag_section">
                <div class="social_feed_tags_scroll_container">
                    <div class="social_feed_tags">
                        <span>Lorem</span>
                        <span>ipsum</span>
                        <span>dolor</span>
                        <span>sit</span>
                        <span>amet</span>
                        <span>consectetur</span>
                        <span>adipisicing</span>
                        <span>elit</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="social_feed_time_slot_buttons">
            <button class="social_feed_time_slot_book_now_button">Book now</button>
        </div>
    </div>
    
    {% if page_obj %}
        {% for item in page_obj %}
            {% if item.type == 'advertising' %}
                {% include 'services_and_projects/advertising_feed.html' with advertising=item.data.advertising %}
            {% elif item.type == 'task' %}
                {% if item.data.type_of_task.type_of_task_name == 'Job search' %}
                    {% include 'services_and_projects/job_search_feed.html' with task=item.data %}
                {% else %}
                    {% include 'services_and_projects/task_feed.html' with task=item.data %}
                {% endif %}
            {% endif %}
        {% endfor %}
    {% else %}
        <div class="social_feed">
            <div class="social_feed_text">
                <p>No posts found.</p>
            </div>
        </div>
    {% endif %}
</section>

<!-- Pagination -->
{% if page_obj.has_other_pages %}
<div class="col-lg-12 col-12">
    <div class="text-center mb-3">
        <small class="text-muted">
            Showing {{ page_obj.start_index }} to {{ page_obj.end_index }} of {{ page_obj.paginator.count }} results
        </small>
    </div>
    <nav aria-label="Page navigation example">
        <ul class="pagination justify-content-center mt-5">
            {% if page_obj.has_previous %}
                <li class="page-item">
                    <a class="page-link" href="?page={{ page_obj.previous_page_number }}{% if get_params %}&{{ get_params.urlencode }}{% endif %}" aria-label="Previous">
                        <span aria-hidden="true">Prev</span>
                    </a>
                </li>
            {% endif %}

            {% for num in page_obj.paginator.page_range %}
                {% if page_obj.number == num %}
                    <li class="page-item active" aria-current="page">
                        <a class="page-link" href="?page={{ num }}{% if get_params %}&{{ get_params.urlencode }}{% endif %}">{{ num }}</a>
                    </li>
                {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{ num }}{% if get_params %}&{{ get_params.urlencode }}{% endif %}">{{ num }}</a>
                    </li>
                {% endif %}
            {% endfor %}
            
            {% if page_obj.has_next %}
                <li class="page-item">
                    <a class="page-link" href="?page={{ page_obj.next_page_number }}{% if get_params %}&{{ get_params.urlencode }}{% endif %}" aria-label="Next">
                        <span aria-hidden="true">Next</span>
                    </a>
                </li>
            {% endif %}
        </ul>
    </nav>
</div>
{% endif %}

<!-- Include Forms -->
{% include 'services_and_projects/form_for_all_task.html' %}

<!-- Include Navigation Components -->
{% include 'services_and_projects/navigation_components.html' %}

<!-- Include Chat Components -->
{% include 'services_and_projects/chat_components.html' %}

<!-- Include PhotoSwipe UI -->
{% include 'services_and_projects/photoswipe_ui.html' %}

{% endblock %}

{% block extra_js %}
<!-- JavaScript libraries -->
<script src="{% static 'js/lib_sweetalert2/sweetalert2.all.min.js' %}"></script>
<script src="{% static 'js/lib_sweetalert2/sweetalert2_modif.js' %}"></script>
<script src="{% static 'js/lib_photoswipe/photoswipe.umd.min.js' %}"></script>
<script src="{% static 'js/lib_photoswipe/photoswipe-lightbox.umd.min.js' %}"></script>
<script src="{% static 'js/lib_photoswipe/photoswipe_force_show.js' %}"></script>
<script src="{% static 'js/lib_ckeditor/ckeditor.js' %}"></script>
<script src="{% static 'js/lib_alertify/alertify.js' %}"></script>
<script src="{% static 'js/lib_alertify/alertify.min.js' %}"></script>
<script src="{% static 'js/lib_alertify/alertify_integra.js' %}"></script>

<!-- Application scripts -->
<script src="{% static 'js/fixed_circule_menu.js' %}"></script>
<script src="{% static 'js/nav_menu_bottom_right.js' %}"></script>
<script src="{% static 'js/form_for_all_task.js' %}"></script>
<script src="{% static 'js/chat_styles.js' %}"></script>
<script src="{% static 'js/advertising_feed.js' %}"></script>
<script src="{% static 'js/tasks_projects_tenders.js' %}"></script>
<script src="{% static 'js/social_feed_hide_icon.js' %}"></script>
<script src="{% static 'js/job_search_feed.js' %}"></script>
<script src="{% static 'js/testpage.js' %}"></script>
{% endblock %}