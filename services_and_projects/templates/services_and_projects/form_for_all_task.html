<div class="modal-overlay" style="display: none;">
    <div class="modal-form">
        <button class="modal_close_btn">
            <svg width="24" height="24" viewBox="0 0 24 24">
                <path
                    d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
            </svg>
        </button>

        <form class="project-form" method="post" enctype="multipart/form-data" action="{% url 'services_and_projects:submit_form' %}">
            {% csrf_token %}
            <div class="form-group" id="form-group-type_of_task">
                <label for="publish-in">Will published in</label>
                <select id="publish-in" name="type_of_task" required>
                    <option value="">-- Select type --</option>
                    {% for t in types %}
                    <option value="{{ t.id }}">{{ t.type_of_task_name }}</option>
                    {% endfor %}
                </select>
            </div>

            <!-- Time slot group (hidden by default) -->
            <div id="time-slot-group" class="time_slot_group">
                <div class=" time-slot-group-title">Time - slot:</div>
                <div class="time-slot-group-inputs">
                    <div class="date_time_slot">
                        <div class="date-slot-group-inputs">Date</div>
                        <input type="date" id="date1" name="date1" class="date-time-slot-input" style="margin-bottom:6px;">
                        <input type="date" id="date2" name="date2" class="date-time-slot-input2">
                    </div>
                    <div class="time_time_slot">
                        <div class="time-slot-group_time">Time</div>
                        <input type="time" id="time1" name="time1" class="time-time-slot-input">
                        <input type="time" id="time2" name="time2" class="time-time-slot-input2">
                    </div>
                </div>
                <div class="form-group">
                    <label for="ts-hashtags">Hashtags:<a href="#">Don't find hashtag?</a></label> 
                    <input type="text" id="ts-hashtags" name="ts-hashtags" placeholder="Enter tags separated by comma">
                </div>
                
                <div class="form-group">
                    <label for="reserved-time">Reserved time on road:</label>
                    <input type="text" id="reserved-time" name="reserved_time" placeholder="e.g. 30 min">
                </div>
                <div class="form-group">
                    <label for="start-location">Start location:</label>
                    <input type="text" id="start-location" name="start_location" placeholder="Enter start location">
                </div>
                <div class="form-group">
                    <label for="cost-hour">Cost of one hour of work in Â£:</label>
                    <input type="number" id="cost-hour" name="cost_hour" placeholder="e.g. 100">
                </div>
                <div class="form-group">
                    <label for="min-slot">Minimum slot (hours) :</label>
                    <input type="number" id="min-slot" name="min_slot" placeholder="e.g. 1 hour">
                </div>
                <div class="form-group">
                    <label for="ts-services">Services:</label>
                    <input type="text" id="ts-services" name="ts-services" placeholder="Describe services">
                </div>
            </div>

            <div class="form-group" id="form-group-title">
                <label for="title">Title</label>
                <input type="text" id="title" name="title" required>
            </div>
            <div class="form-group" id="form-group-description">
                <label for="description">Description</label>
                <textarea id="description" name="description" rows="4" required></textarea>
            </div>
            <div class="form-group" id="form-group-photos-link">
                <label for="photos-link">Photos</label>
                <input type="text" id="photos-link" name="photos-link" placeholder="link to google drive" style="margin-bottom:12px;">
                <div id="form-group-photos-link_or" style="text-align:center;font-weight:600;color:#282d3b;margin-bottom:8px;">or</div>
                <div id="form-group-photos-link_drop_file" class="file-upload-area" id="photos-upload">
                    <input type="file" id="photos" name="photos" multiple accept="image/*">
                    <div class="drop-zone">
                        <p>Drop files here or click to upload</p>
                    </div>
                </div>
            </div>
            

            <div class="form-group" id="form-group-hashtags-input">
                <label for="hashtags-input">Hashtags: <a href="#">Don't find hashtag?</a></label>
                <div id="hashtags-container" class="form-control hashtag-chip-container" tabindex="0" data-all-tags='{{ all_tags|safe }}'>
                    <input type="text" id="hashtags-input" placeholder="Start typing tag..." autocomplete="off" style="border: none; outline: none; flex: 1; min-width: 120px; background: transparent;">
                </div>
                <div id="hashtags-dropdown" class="hashtag-dropdown-menu"></div>
            </div>
            <input type="hidden" name="hashtags" id="hashtags-hidden">
            
            <div class="form-group" id="form-group-category">
                <label for="category">Category</label>
                <select id="category" name="category" required>
                    <option value="">-- Select category --</option>
                    {% for cat in categories %}
                    <option value="{{ cat.id }}">{{ cat.category_name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group" id="form-group-service">
                <label for="service">Service</label>
                <select id="service" name="service" required>
                    <option value="">-- Select service --</option>
                    {% for serv in services %}
                    <option value="{{ serv.id }}" data-category="{{ serv.category_name.id }}">{{ serv.service_name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div id="form-extend-toggle" class="form-extend-toggle" style="display:none;">
                <button type="button" class="extend-btn">
                    <span class="extend-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                            width="36.130" height="27.194" viewBox="0 0 45.162 33.992">
                            <defs>
                                <filter id="arrow_back_ios_24dp_000000_FILL0_wght400_GRAD0_opsz24" x="0" y="0"
                                    width="45.162" height="33.992" filterUnits="userSpaceOnUse">
                                    <feOffset dy="3" input="SourceAlpha" />
                                    <feGaussianBlur stdDeviation="3" result="blur" />
                                    <feFlood flood-opacity="0.161" />
                                    <feComposite operator="in" in2="blur" />
                                    <feComposite in="SourceGraphic" />
                                </filter>
                                <filter id="arrow_back_ios_24dp_000000_FILL0_wght400_GRAD0_opsz24-2" x="0" y="0"
                                    width="45.162" height="33.992" filterUnits="userSpaceOnUse">
                                    <feOffset dy="3" input="SourceAlpha" />
                                    <feGaussianBlur stdDeviation="3" result="blur-2" />
                                    <feFlood flood-opacity="0.161" result="color" />
                                    <feComposite operator="out" in="SourceGraphic" in2="blur-2" />
                                    <feComposite operator="in" in="color" />
                                    <feComposite operator="in" in2="SourceGraphic" />
                                </filter>
                            </defs>
                            <g data-type="innerShadowGroup">
                                <g transform="matrix(1, 0, 0, 1, 0, 0)"
                                    filter="url(#arrow_back_ios_24dp_000000_FILL0_wght400_GRAD0_opsz24)">
                                    <path id="arrow_back_ios_24dp_000000_FILL0_wght400_GRAD0_opsz24-3"
                                        data-name="arrow_back_ios_24dp_000000_FILL0_wght400_GRAD0_opsz24"
                                        d="M13.581,27.162,0,13.581,13.581,0l2.411,2.411L4.821,13.581l11.17,11.17Z"
                                        transform="translate(36.16 6) rotate(90)" />
                                </g>
                                <g transform="matrix(1, 0, 0, 1, 0, 0)"
                                    filter="url(#arrow_back_ios_24dp_000000_FILL0_wght400_GRAD0_opsz24-2)">
                                    <path id="arrow_back_ios_24dp_000000_FILL0_wght400_GRAD0_opsz24-4"
                                        data-name="arrow_back_ios_24dp_000000_FILL0_wght400_GRAD0_opsz24"
                                        d="M13.581,27.162,0,13.581,13.581,0l2.411,2.411L4.821,13.581l11.17,11.17Z"
                                        transform="translate(36.16 6) rotate(90)" fill="#fff" />
                                </g>
                            </g>
                        </svg>
                    </span>
                    <!-- <span>Extend</span> -->
                </button>
            </div>

            <div id="form-extended-fields" style="display:none;">

                <div class="form-group" id="form-group-documents">
                    <label for="documents">Documents</label>
                    <input type="url" id="documents" name="documents" placeholder="Enter document link">
                </div>

                <div class="form-group" id="form-group-performers">
                    <label for="performers">Performer(s)</label>
                    <div class="performers-input-group">
                        <input type="text" id="performers" name="performers" placeholder="Add performer" autocomplete="off">
                        <div class="performers-dropdown" id="performers-dropdown">
                            <div class="dropdown-item need-performer">Need a performer</div>
                        </div>
                    </div>
                    <div class="performers-list"></div>
                </div>
                <div id="form-group-date-time" class="form-row">
                    <div class="form-group half">
                        <label for="date-start">Date and time start</label>
                        <input type="date" id="date-start" name="date_start">
                        <input type="time" id="time-start" name="time_start" style="margin-top:6px;">
                    </div>
                    <div class="form-group half">
                        <label for="date-end">Date and time end</label>
                        <input type="date" id="date-end" name="date_end">
                        <input type="time" id="time-end" name="time_end" style="margin-top:6px;">
                    </div>
                </div>

                <div class="form-group" id="form-group-status">
                    <label for="status">Add status</label>
                    <select id="status" name="status">
                        <option value="">-- Select status --</option>
                        {% for status in statuses %}
                            <option value="{{ status.id }}">{{ status.name }}</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="form-group" id="form-group-project-included">
                    <label for="project-included">Project (task) included</label>
                    <select id="project-included" name="project-included">
                        <option value="">Empty</option>
                        {% for task in tasks %}
                        <option value="{{ task.id }}">{{ task.title }}</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="form-group checkbox" id="form-group-private">
                    <input type="checkbox" id="private" name="private">
                    <label for="private">Make private</label>
                </div>

                <div class="form-group checkbox" id="form-group-disclose-name-1">
                    <input type="checkbox" id="disclose-name-1" name="disclose_name_1">
                    <label for="disclose-name-1">Disclose your name (company) when publishing</label>
                </div>

                <div class="form-group checkbox" id="form-group-hidden">
                    <input type="checkbox" id="hidden" name="hidden">
                    <label for="hidden">Hidden (visible just for you)</label>
                </div>

                <div class="form-group checkbox" id="form-group-disclose-name">
                    <input type="checkbox" id="disclose-name" name="disclose_name">
                    <label for="disclose-name">offline</label>
                </div>

                <div class="form-group" id="form-group-post-code">
                    <label for="post-code">Post code</label>
                    <input type="text" id="post-code" name="post_code" placeholder="post-code">
                </div>

                <div class="form-group" id="form-group-street_details">
                    <label for="street_details">Street details</label>
                    <input type="text" id="street_details" name="street_details" placeholder="Street details">
                </div>

                
            </div>

            <div class="form-actions" id="form-actions">
                
                <button type="button" class="btn btn-secondary">Save</button>
            </div>
        </form>
    </div>
</div>
